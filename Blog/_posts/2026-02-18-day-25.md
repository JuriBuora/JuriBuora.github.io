---
layout: post
title: "ğŸ“… 2026-02-18 â€” Day 25: Effective Shell Fundamentals (Files, ls/du, man, Heredocs, Updates, Docker Permissions)"
date: 2026-02-18 00:00:00 +0100
categories: blog
tags:
  - Cybersecurity
  - LinuxFundamentals
  - CommandLine
  - Bash
  - FileSystem
  - Permissions
  - Processes
  - Logs
  - LearningProcess
---

## ğŸ¯ Goal

- Rebuild **clean, reliable shell fundamentals** (no guessing, no superstition).
- Study *Effective Shell* Part 1 and turn it into **practical muscle memory**.
- Reduce â€œterminal frictionâ€ so I can move faster in labs and investigations without making dumb mistakes.

---

## âœ… What I Did

### 1) Re-studied *Effective Shell* (Part 1) ğŸ“š
Studied these chapters:
- Managing your files
- Become a clipboard gymnast
- Getting help
- The renaissance of the shell

Main focus: treating the shell like a **real working environment**, not a place to type random commands.

---

### 2) Practiced file + directory inspection (`ls`) ğŸ”
I ran multiple variants and corrected a key misunderstanding:

- `ls -l` â†’ detailed listing (permissions, owner/group, size, timestamps)
- `ls -a` / `ls -A` â†’ include hidden files (and optionally exclude `.`/`..`)
- `ls -lah` â†’ â€œshow me everything, readable sizesâ€

Key correction:
- `ls` â€œtotalâ€ is **allocated blocks** for the listed entries, **not** â€œhow many files exist.â€
- `-a` includes `.` and `..`, which can change whatâ€™s counted in that â€œtotal.â€

---

### 3) Learned to interpret disk usage correctly (`du`) ğŸ’¾
I compared outputs and learned what question each flag set answers:

- `du -sh *` â†’ **one line per top-level item** (best quick overview)
- `du -Sh *` â†’ **breakdown mode** (donâ€™t roll subdirs into parents)
- `du -sSh *` â†’ summary but excluding subtree content from each directory line (can look â€œtoo smallâ€)

Main clarity:
- `du` answers â€œhow much disk is allocated?â€
- flags decide whether you see **totals** or **separated breakdowns**.

---

### 4) Improved my documentation workflow (`man`, sections, search) ğŸ§ 
Stopped guessing and used the right discovery/search tools:

- `man -f name` â†’ what entries exist (and sections)
- `man -k keyword` â†’ search by topic
- `man 1 X` vs `man 5 X` â†’ command vs config/file format
- used `help` + `type -a` when something is a shell builtin/keyword (not best documented by `man`)

Outcome: less â€œrandom Googlingâ€, more predictable answers.

---

### 5) Practiced safe text writing: heredocs + quoting (`<<'EOF'`) ğŸ§¨â¡ï¸ğŸ›¡ï¸
Revisited heredocs with the *actual* security lesson:

- `<<EOF` (unquoted delimiter) â†’ expansions may occur in the heredoc body
- `<<'EOF'` (quoted delimiter) â†’ expansions disabled â†’ **literal, predictable output**

This is a safety habit: when writing config blocks, default to literal unless I *intentionally* want expansion.

---

### 6) System maintenance + reading post-upgrade signals (`apt`, systemd) ğŸ§¾
Ran package updates and learned to interpret the output properly:

- Noticed Ubuntu **phased updates** (some upgrades deferred intentionally)
- Completed library/security-related updates and read the post-upgrade messages:
  - services restarted automatically
  - NetworkManager restart deferred
  - warnings suggesting `systemctl daemon-reload` after unit changes
  - â€œrunning outdated binariesâ€ in user session (normal until restart/logout)

This is real ops hygiene: the system tells you what it needsâ€”if you know how to read it.

---

### 7) Quick â€œgetting helpâ€ tools: `cht.sh` + TLDR attempt ğŸ§°
- Tried installing `tldr` via `npm`:
  - `npm` wasnâ€™t installed, and `apt install npm` wanted a massive dependency tree.
- Queried cheat sheets directly via `curl` using `cht.sh` (works great as a lightweight option).

Lesson: donâ€™t install heavyweight tooling blindlyâ€”pick the smallest tool that solves the problem.

---

### 8) Docker first contact: hit a real permission boundary ğŸ³ğŸ”
Tried:
- `docker run -it --rm ubuntu:24.04 bash`

Got:
- `permission denied while trying to connect to the docker API at unix:///var/run/docker.sock`

Learned what that means:
- Docker is controlled via a **Unix socket** (`/var/run/docker.sock`)
- Access is restricted to **root** (or docker group)
- Not â€œDocker brokenâ€ â€” itâ€™s a **privilege boundary** (permissions).

---

## ğŸ”— Key Cybersecurity Connections

- **Correct interpretation beats guesswork**
  - Misreading `ls` totals or `du` output leads to bad calls during triage.
- **Docs skill = operational independence**
  - `man -k` + correct sections + `help/type -a` prevents â€œcopy-paste blindness.â€
- **Shell expansion control is a safety layer**
  - Quoted heredocs prevent accidental substitution and dangerous surprises.
- **Docker permissions are privilege management**
  - Docker socket access is powerful; mishandling it can become an escalation path.
- **systemd + update messages are part of real ops**
  - If I canâ€™t read service restart/daemon-reload hints, Iâ€™ll be blind when troubleshooting.

---

## âš ï¸ Challenges

- Initially mixed up **file count** vs **allocated disk blocks** (`ls total`).
- `du` felt inconsistent until I understood how `-s` and `-S` change the question.
- Quoting/expansion rules are subtle; safety depends on context.

---

## ğŸ§  What I Learned

- `ls` â€œtotalâ€ is **allocated blocks**, not â€œhow many files.â€
- `du -sh *` is the fastest â€œwhatâ€™s big here?â€ tool; `-S` is for **breakdowns**, not totals.
- `man` sections exist because name collisions are normal (command vs config vs APIs).
- Heredocs:
  - `<<'EOF'` = literal body, predictable output, safer config writing.
- Docker:
  - `/var/run/docker.sock` is permission-controlled; â€œpermission deniedâ€ usually means â€œnot root / not in docker group.â€

---

## â­ï¸ Next Steps

- Daily repetition drill (short, consistent, high ROI) ğŸ”:
  - `ls` flags + interpreting output correctly
  - `du` totals vs breakdowns + sorting largest items
  - `man -k` searching + selecting the correct section
- Default to literal when writing config blocks:
  - use `<<'EOF'` unless I intentionally want expansion
- Docker (only if needed for labs):
  - verify daemon + socket permissions and choose `sudo docker â€¦` vs docker group membership (with privilege implications understood)

---

## ğŸ’­ Reflection

This was a fundamentals dayâ€”quiet but high-impact.
I removed â€œsilent trapsâ€ that would waste hours in labs: misreading output, misunderstanding disk usage, and getting surprised by expansion behavior.

The goal isnâ€™t to â€œknow commands.â€
The goal is to **trust my interpretation** of what the system is telling me.

---

## âœ… Lessons Learned

**What worked**
- Using real command outputs (`ls`, `du`, `apt`, `docker`) forced accurate understanding.
- Treating documentation as a skill (`man -k`, sections) reduced dependency on random web snippets.

**What broke**
- My initial assumptions about `ls total` and what `du` â€œshouldâ€ show were wrong.

**Why it broke**
- Mixed concepts (bytes vs blocks, totals vs breakdowns, literal vs expanded text).

**Fix / takeaway**
- Always ask: **â€œWhat is this tool actually counting?â€**
- Default to safer patterns (literal heredocs, cautious deletes, correct disk-usage checks).
---
